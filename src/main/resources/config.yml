# ===================================================================
#                        JustTeams Configuration
#                    Team Management Plugin Settings
# ===================================================================
#
# This file contains all configuration options for the JustTeams plugin.
# Each setting controls different aspects of team functionality.
#
# Configuration Guidelines:
#   - Boolean values: true/false (lowercase)
#   - Strings: Use quotes "like this" for text values
#   - Numbers: No quotes needed for integers
#   - Colors: Use hex format #RRGGBB
#
# For support and documentation, please visit our wiki.
# Always backup this file before making changes.
#
# ===================================================================

# Configuration version - DO NOT MODIFY
config-version: 20

# ===================================================================
#                         Proxy Configuration
# ===================================================================
#
# Configure cross-server functionality for network setups.
# Supports BungeeCord, Velocity, and Waterfall proxies.
#
proxy_settings:
  # Proxy type selection
  # Options: "NONE", "BUNGEE", "VELOCITY"
  type: "NONE"

# ===================================================================
#                        Database Configuration
# ===================================================================
#
# Choose your preferred storage method for team data.
# H2 is recommended for single servers, MySQL for networks.
#
storage:
  # Database type: "h2", "mysql", "mariadb"
  type: "h2"

  # MySQL/MariaDB Settings
  mysql:
    enabled: false
    host: "localhost"
    port: 3306
    database: "teams"
    username: "root"
    password: ""
    
    # Connection security
    use_ssl: false
    allow_public_key_retrieval: true
    use_unicode: true
    character_encoding: "utf8"
    collation: "utf8_general_ci"
    
    # Connection timeouts (milliseconds)
    connection_timeout: 30000
    socket_timeout: 60000
    auto_reconnect: true
    fail_over_read_only: false
    max_reconnects: 3

  # Connection Pool Settings (Optimized for both H2 and MySQL)
  connection_pool:
    # H2 defaults: max_size=4, min_idle=1
    # MySQL defaults: max_size=10, min_idle=3  
    max_size: 8
    min_idle: 2
    
    # Timeouts in milliseconds
    idle_timeout: 300000          # 5 minutes
    max_lifetime: 1800000         # 30 minutes
    connection_timeout: 15000     # 15 seconds (reduced from 20s)
    validation_timeout: 3000      # 3 seconds
    
    # Connection testing
    connection_test_query: "SELECT 1"
    
    # Leak detection (0 = disabled, >0 = milliseconds before leak warning)
    leak_detection_threshold: 0

# ===================================================================
#                        Feature Configuration
# ===================================================================
#
# Enable or disable specific features to customize functionality.
# Each feature can be toggled independently.
#
features:
  # Core Team Management
  team_creation: true
  team_disband: true
  team_invites: true
  team_join_requests: true
  team_blacklist: true
  team_transfer: true
  team_public_toggle: true
  
  # Member Management
  member_kick: true
  member_promote: true
  member_demote: true
  member_leave: true
  
  # Information Features
  team_info: true
  team_tag: true
  team_description: true
  team_leaderboard: true
  
  # Home System
  team_home: true
  team_home_set: true
  team_home_teleport: true
  
  # Warp System
  team_warps: false
  team_warp_set: false
  team_warp_delete: false
  team_warp_teleport: false
  
  # PvP Features
  team_pvp: false
  team_pvp_toggle: false
  
  # Economy Features (Requires Vault)
  team_bank: false
  team_bank_deposit: false
  team_bank_withdraw: false
  
  # Storage Features
  team_enderchest: true
  
  # Communication Features
  team_chat: true
  team_message_command: true

# ===================================================================
#                          General Settings
# ===================================================================
#
# Core plugin settings affecting overall behavior.
#
settings:
  # Debug Options
  debug: false
  
  # Server Configuration
  single_server_mode: true
  server-identifier: "survival"
  
  # Theme Colors
  main_color: "#4C9DDE"
  accent_color: "#FFD700"
  currency_format: ""
  
  # Team Limits
  max_team_size: 10
  min_name_length: 3
  max_name_length: 16
  max_tag_length: 6
  max_description_length: 64
  
  # Default Settings
  default_pvp_status: true
  default_public_status: false
  
  # Cross-Server Synchronization
  enable_cross_server_sync: false
  
  # Performance Optimization
  sync_optimization:
    heartbeat_interval: 600
    cross_server_sync_interval: 300
    critical_sync_interval: 180
    max_teams_per_batch: 100
    enable_lazy_loading: true
    team_cache_ttl: 1200
    enable_optimistic_locking: true
    max_sync_retries: 2
    sync_retry_delay: 3000
    max_batch_size: 500
    cache_cleanup_interval: 900
    async_database_operations: true
    bulk_operation_batch_size: 200
    connection_validation_interval: 60
    heartbeat_batch_size: 1
    enable_connection_pooling: true

  # Performance Monitoring
  performance:
    enable_metrics: false
    log_slow_queries: true
    slow_query_threshold: 50
    detailed_sync_logging: false
    monitor_connection_pool: false
    connection_pool_log_interval: 60
    enable_debug_logging: false
    gui_update_throttle_ms: 100
    max_concurrent_db_operations: 5

# ===================================================================
#                        Broadcast Settings
# ===================================================================
#
# Control server-wide announcements for team events.
#
broadcasts:
  team-created: true
  team-disbanded: true

# ===================================================================
#                        Team Chat Settings
# ===================================================================
#
# Configure the team chat system.
#
team_chat:
  character_enabled: true
  character: ""
  require_space: false

# ===================================================================
#                        Home Configuration
# ===================================================================
#
# Configure team home teleportation system.
#
team_home:
  warmup_seconds: 5
  cooldown_seconds: 300

# ===================================================================
#                        Warp Configuration
# ===================================================================
#
# Configure the team warp system.
#
team_warps:
  max_warps: 5
  warmup_seconds: 5
  cooldown_seconds: 300

# ===================================================================
#                        Bank Configuration
# ===================================================================
#
# Configure the team banking system (requires Vault).
#
team_bank:
  enabled: true
  max_balance: 1000000.0

# ===================================================================
#                     Ender Chest Configuration
# ===================================================================
#
# Configure the shared team ender chest.
#
team_enderchest:
  enabled: true
  rows: 3

# ===================================================================
#                        Effects Configuration
# ===================================================================
#
# Configure sound and particle effects.
#
effects:
  sounds:
    enabled: true
    
    # General Sounds
    success: "BLOCK_NOTE_BLOCK_PLING"
    error: "BLOCK_NOTE_BLOCK_BASS"
    teleport: "BLOCK_BEACON_ACTIVATE"
    gui_open: "BLOCK_WOODEN_BUTTON_CLICK_ON"
    
    # Event Sounds
    team_created: "ENTITY_PLAYER_LEVELUP"
    team_disbanded: "BLOCK_NOTE_BLOCK_CHIME"
    member_join: "BLOCK_NOTE_BLOCK_HARP"
    member_leave: "BLOCK_NOTE_BLOCK_BELL"
    permission_change: "BLOCK_NOTE_BLOCK_FLUTE"
    warp_created: "BLOCK_NOTE_BLOCK_XYLOPHONE"
    warp_deleted: "BLOCK_NOTE_BLOCK_COW_BELL"
    home_set: "BLOCK_NOTE_BLOCK_GUITAR"
    bank_transaction: "BLOCK_NOTE_BLOCK_BIT"
    
  particles:
    teleport_warmup: "PORTAL"
    teleport_success: "END_ROD"

# ===================================================================
#                      Bedrock Edition Support
# ===================================================================
#
# Configure cross-platform support for Bedrock Edition players.
# Requires Floodgate plugin.
#
bedrock_support:
  enabled: true
  show_platform_indicators: true
  show_gamertags: true
  full_feature_support: true
  cross_platform_teams: true
  uuid_mode: "auto"

# ===================================================================
#                       Webhook Configuration
# ===================================================================
#
# Developement.. You can disable it anytime
#
webhook:
  enabled: true
  server-name: "ServerName"